var Ue=Object.defineProperty,Ze=Object.defineProperties;var qe=Object.getOwnPropertyDescriptors;var Fe=Object.getOwnPropertySymbols;var Be=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable;var Ee=(t,a,c)=>a in t?Ue(t,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[a]=c,F=(t,a)=>{for(var c in a||(a={}))Be.call(a,c)&&Ee(t,c,a[c]);if(Fe)for(var c of Fe(a))De.call(a,c)&&Ee(t,c,a[c]);return t},Me=(t,a)=>Ze(t,qe(a));var Oe=(t,a,c)=>new Promise((l,i)=>{var s=h=>{try{x(c.next(h))}catch(w){i(w)}},p=h=>{try{x(c.throw(h))}catch(w){i(w)}},x=h=>h.done?l(h.value):Promise.resolve(h.value).then(s,p);x((c=c.apply(t,a)).next())});import{j as e,r as R,e as j,L as oe}from"./index-1.0.3.js";import{c as Ke,_ as n,E as Ge,d as se,e as me,M as We,f as Se,g as He}from"./bi-895-8.js";import{a as Je,r as Ye,b as Qe}from"./bi-382-16.js";const pt=(t,a,c,l,i,s,p,x)=>Oe(void 0,null,function*(){const h=[...a];let w="integration/save";const E=F({formId:t},i);x&&(w="integration/update",h[p]=F(F({},a[p]),i));try{const y=yield Ke(E,w);return y.success&&(x||h.push(Me(F({},i),{newItegration:!0,id:y.data.id,status:1})),c([...h])),y}catch(y){return n("Failed to save integration","bitgfzc")}}),mt=t=>{const a={},l=window.location.href.replace(`${window.opener.location.href}/redirect`,"").split("&");l&&l.forEach(i=>{const s=i.split("=");s[1]&&(a[s[0]]=s[1])}),localStorage.setItem(`__bitforms_${t}`,JSON.stringify(a)),window.close()},ue=(t,a,c,l,i)=>{const s=F({},a);i?l?s.relatedlists[i-1].upload_field_map.splice(t,0,{}):s.relatedlists[i-1].field_map.splice(t,0,{}):l?s.upload_field_map.splice(t,0,{}):s.field_map.splice(t,0,{}),c(F({},s))},Xe=(t,a,c,l,i)=>{const s=F({},a);i?l?s.relatedlists[i-1].upload_field_map.length>1&&s.relatedlists[i-1].upload_field_map.splice(t,1):s.relatedlists[i-1].field_map.length>1&&s.relatedlists[i-1].field_map.splice(t,1):l?s.upload_field_map.length>1&&s.upload_field_map.splice(t,1):s.field_map.length>1&&s.field_map.splice(t,1),c(F({},s))},Te=(t,a,c,l,i,s)=>{const p=F({},c);s?i?p.relatedlists[s-1].upload_field_map[a][t.target.name]=t.target.value:p.relatedlists[s-1].field_map[a][t.target.name]=t.target.value:i?p.upload_field_map[a][t.target.name]=t.target.value:p.field_map[a][t.target.name]=t.target.value,t.target.value==="custom"&&(s?p.relatedlists[s-1].field_map[a].customValue="":p.field_map[a].customValue=""),l(F({},p))},Ce=(t,a,c,l,i)=>{const s=F({},c);i?s.relatedlists[i-1].field_map[a].customValue=t.target.value:s.field_map[a].customValue=t.target.value,l(F({},s))};function gt({step:t,saveConfig:a,edit:c,disabled:l}){return c?e.jsx("div",{className:"txt-center w-9 mt-3",children:e.jsx("button",{onClick:a,className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:l,children:n("Update","bitgfzc")})}):e.jsxs("div",{className:"btcd-stp-page txt-center",style:{width:t===3&&"90%",height:t===3&&"100%"},children:[e.jsx("h2",{className:"ml-3",children:n("Successfully Integrated","bitgfzc")}),e.jsxs("button",{onClick:a,className:"btn btcd-btn-lg green sh-sm",type:"button",children:[n("Finish & Save ","bitgfzc"),"✔"]})]})}function xe(t){var a=R.useRef();return a.current||(a.current={v:t()}),a.current.v}const we=R.createContext(),Ne=R.createContext(),et=({state:t,children:a})=>{const c=R.useState(0),l=xe(()=>({tabs:0,panels:0})),i=t||c;return j.createElement(Ne.Provider,{value:l},j.createElement(we.Provider,{value:i},a))},tt=()=>{const[t,a]=R.useContext(we),c=R.useContext(Ne),l=xe(()=>{const p=c.tabs;return c.tabs+=1,p}),i=xe(()=>()=>a(l));return R.useMemo(()=>({isActive:t===l,onClick:i}),[t,i,l])},st=()=>{const[t]=R.useContext(we),a=R.useContext(Ne);return xe(()=>{const l=a.panels;return a.panels+=1,l})===t},Ae=({children:t})=>{const a=tt();return typeof t=="function"?t(a):R.isValidElement(t)?R.cloneElement(t,a):t},Ie=({active:t,children:a})=>st()||t?a:null;function ce(){return(ce=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var c=arguments[a];for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(t[l]=c[l])}return t}).apply(this,arguments)}function Ve(t,a){(a==null||a>t.length)&&(a=t.length);for(var c=0,l=new Array(a);c<a;c++)l[c]=t[c];return l}function $e(){return j.createElement("svg",{viewBox:"0 0 10 10",className:"msl-close-icn"},j.createElement("line",{stroke:"currentColor",strokeLinecap:"round",x1:"0",y1:"0",x2:"10",y2:"10"}),j.createElement("line",{stroke:"currentColor",strokeLinecap:"round",x1:"0",y1:"10",x2:"10",y2:"0"}))}function lt(t){var a,c=t.deleteAction;return j.createElement("div",{clickable:"true",className:"msl-chip"},typeof(a=t.value).label=="object"?(a==null?void 0:a.title)||a.value:a.label,j.createElement("div",{role:"button",clickable:"true","aria-label":"delete-value",onClick:c,onKeyPress:c,tabIndex:"0",className:"msl-btn msl-chip-delete msl-flx"},j.createElement($e,null)),j.createElement("span",null))}function at(){return j.createElement("svg",{viewBox:"0 0 20 20",className:"msl-arrow-icn"},j.createElement("line",{stroke:"currentColor",strokeLinecap:"round",x1:"10",y1:"14",x2:"4",y2:"8"}),j.createElement("line",{stroke:"currentColor",strokeLinecap:"round",x1:"16",y1:"8",x2:"10",y2:"14"}))}function Le(t){var a=t.singleSelect,c=t.addValue,l=t.checkValueExist,i=t.value;if(t.largeData&&!t.menuOpen)return null;var s=[];return function p(x){for(var h,w=function(){var y=h.value,O=y[0],d=y[1];d.type==="group"?(s.push(j.createElement("div",{key:d.title+O,"data-msl":!0,className:"msl-grp-title"},d.title)),d.childs.length>0?p(d.childs):s.push(j.createElement("option",{className:"msl-option msl-option-disable"},d.emptyDataLabel||"No Data Found"))):s.push(j.createElement("div",ce({tabIndex:"0",key:d.value+d.label+O+10},!a&&{"data-msl":!0},{style:ce({},d.style&&d.style),onClick:function(){!d.disabled&&c(d)},onKeyPress:function(b){b.key==="Enter"&&!d.disabled&&c(d)},title:typeof d.label=="object"?d==null?void 0:d.title:d.label,className:"msl-option "+(l(d,i)?"msl-option-active":"")+" "+(d.disabled?"msl-option-disable":"")+" "+(d.classes!==void 0?d.classes:""),value:d.value}),d.label))},E=function(y,O){var d=typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(d)return(d=d.call(y)).next.bind(d);if(Array.isArray(y)||(d=function(k,q){if(k){if(typeof k=="string")return Ve(k,void 0);var _=Object.prototype.toString.call(k).slice(8,-1);return _==="Object"&&k.constructor&&(_=k.constructor.name),_==="Map"||_==="Set"?Array.from(k):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?Ve(k,void 0):void 0}}(y))){d&&(y=d);var b=0;return function(){return b>=y.length?{done:!0}:{done:!1,value:y[b++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(x.entries());!(h=E()).done;)w()}(t.opts),j.createElement("div",null,s)}function ye(t){var a=t.options,c=t.downArrowIcon,l=t.closeIcon,i=t.clearable,s=t.clearAll,p=t.downArrow,x=t.onChange,h=t.singleSelect,w=t.jsonValue,E=t.defaultValue,y=t.className,O=t.placeholder,d=t.disableChip,b=t.name,k=t.style,q=t.attr,_=t.largeData,S=t.disabled,A=t.limit,W=t.emptyDataLabel,P=t.customValue,H=t.onMenuOpen,D=t.onMenuClose,J=t.chipAlternateText,Y=t.closeOnSelect,Q=t.disableSearch,K=R.useState([]),o=K[0],le=K[1],ae=R.useState(a||[]),I=ae[0],ee=ae[1],ie=R.useState(null),U=ie[0],X=ie[1],r=R.useRef(null),g=function(m){var f=m.onClickOutside,v=R.useState(m.initialIsVisible),z=v[0],L=v[1],B=R.useRef(null),Z=function(M){M.key==="Escape"&&L(!1)},N=function M(ne){B.current&&!B.current.contains(ne.target)&&(document.removeEventListener("keydown",Z,!0),document.removeEventListener("click",M,!0),L(!1),f())};return R.useEffect(function(){return document.addEventListener("keydown",Z,!0),document.addEventListener("click",N,!0),function(){document.removeEventListener("keydown",Z,!0),document.removeEventListener("click",N,!0)}}),{ref:B,isComponentVisible:z,setIsComponentVisible:L}}({initialIsVisible:!1,onClickOutside:D}),u=g.ref,V=g.isComponentVisible,T=g.setIsComponentVisible,te="calc(100% - "+(i&&p?60:p||i?40:5)+"px)";R.useEffect(function(){s&&o.length&&ve()},[s]),R.useEffect(function(){ee(a)},[a]),R.useEffect(function(){var m=function(f,v){if(!f)return[];var z=f,L=[],B=[];typeof f=="string"&&(z=f.split(","));for(var Z=function($){if(typeof $=="string")L.push({label:$,value:$});else if(typeof $=="object"){var je={label:$,value:$};"label"in $&&typeof $.label=="string"?je.label=$.label:"title"in $&&(je.label=$.title),L.push(je)}},N=0;N<z.length;N++)if(typeof z[N]=="string"){var M=pe(z[N],v,!0,"value");M.length>0?B.push(M[0]):P&&Z(z[N])}else if(typeof z[N]=="object"){var ne=pe(z[N].value,v,!0,"value");ne.length>0?B.push(ne[0]):P&&Z(z[N])}var re=[];return L.length&&(re=ke(L)),ee([].concat(a,re)),[].concat(B,L)}(E,I);h&&m.length&&(m=[m[0]]),le(m),Y&&h&&T(!1)},[E]);var G,C,fe=function(m){if(le(m),w)x(m);else{var f="";f+=m.map(function(v){return v.value}),x(f)}},de=function(m,f){return f.some(function(v){return v.value===m.value})},he=function(m){var f=[].concat(o);h?f=de(m,o)?[]:[m]:de(m,o)?f=f.filter(function(v){return v.value!==m.value}):(A===null||A>o.length)&&f.push(m),fe(f),X(null),r.current&&(r.current.innerHTML="")},ve=function(){fe([])},ze=function(){return!(Q||(h||d)&&(!h||o.length)&&(h||!d||o.length))},pe=function(m,f,v,z){var L=[],B=[];return function Z(N){for(var M=0;M<N.length;M++){var ne;if(((ne=N[M])===null||ne===void 0?void 0:ne.type)==="group")Z(N[M].childs);else if(v)v&&N[M][z]===m&&L.push(N[M]);else{var re,$;typeof N[M].label!="object"&&N[M].label.match(new RegExp(""+m,"gi"))||typeof N[M].label=="object"&&(re=N[M])!==null&&re!==void 0&&($=re.title)!==null&&$!==void 0&&$.match(new RegExp(""+m,"gi"))?L.push(N[M]):N[M].value.match(new RegExp(""+m,"gi"))&&B.push(N[M])}typeof N[M].label!="object"||"title"in N[M]}}(f),[].concat(L,B)},ke=function(m){var f=[],v=I.findIndex(function(z){return(z==null?void 0:z.type)==="group"&&(z==null?void 0:z.title)==="Custom Values"});return v===-1?f.push({title:"Custom Values",type:"group",childs:[].concat(m)}):Array.isArray(m)?m.map(function(z){return I[v].childs.push(z)}):typeof m=="object"&&I[v].childs.push(m),ee([].concat(I,f)),f},_e=function(m){var f=m.target;(function(v){return!(v.hasAttribute("clickable")||v.parentNode.hasAttribute("clickable")||v.parentNode.parentNode.hasAttribute("clickable")||v.parentNode.parentNode.parentNode.hasAttribute("clickable"))})(f)&&(function(v){if(v.hasAttribute("dropdown-handle")||v.parentNode.hasAttribute("dropdown-handle")||v.parentNode.parentNode.hasAttribute("dropdown-handle"))return!0}(f)&&V?(T(!1),D()):(T(!0),H(),r.current&&r.current.focus()))},Re=function(m){return typeof m.label=="object"?(m==null?void 0:m.title)||m.value:m.label};return j.createElement("div",ce({ref:u},q,{onClick:_e,tabIndex:"0",onKeyPress:_e,style:ce({},k),className:"msl-wrp msl-vars "+y+" "+(S?"msl-disabled":"")}),j.createElement("input",{name:b,type:"hidden",value:o==null?void 0:o.map(function(m){return m.value})}),j.createElement("div",{"data-msl":!0,className:"msl "+(V&&(G=u.current,C=G.getBoundingClientRect(),window.innerHeight-(C.top+G.clientHeight)<200?"msl-active-up":"msl-active"))+" "},j.createElement("div",{"data-msl":!0,className:"msl-input-wrp",style:{width:te}},!h&&!d&&o.map(function(m,f){return j.createElement(lt,{key:"msl-chip-"+(f+11),value:m,deleteAction:function(){return function(v){var z=[].concat(o);z.splice(v,1),fe(z)}(f)}})}),!h&&d&&o.length>0&&j.createElement("span",{className:"msl-single-value","data-msl":!0},o.length===1?Re(o[0]):o.length+" "+J),h&&o.length===1&&j.createElement("span",{className:"msl-single-value","data-msl":!0},Re(o[0])),ze()&&j.createElement("div",{"data-msl":!0,"data-placeholder":O,className:"msl-input",contentEditable:!S,onKeyUp:function(m){var f=m.target.textContent.trim().replace(/,+/g,"");if(f){var v={label:'Create "'+f+'"',value:f},z=pe(f,I);z.length?(P&&!pe(f,I,!0,"value").length&&z.push(v),X(z)):X(P?[v]:[]);var L=function(B){var Z=B.label,N=B.value;return typeof Z!="object"&&Z.match(/Create "|"+/g)&&(Z=Z.replace(/Create "|"+/g,"")),{label:Z,value:N}}(v);m.key!=="Enter"&&m.key!==","||(!P||z.length||de(L,o)?U.length>0&&he(U[0]):(ke(L),he(v)))}else X(null)},ref:r}),!ze()&&o.length<1&&j.createElement("div",{"data-msl":!0,"data-placeholder":O,className:"msl-input"})),(i||p)&&j.createElement("div",{className:"msl-actions msl-flx"},i&&o.length>0&&j.createElement("div",{role:"button",clickable:"true","aria-label":"close-menu",onClick:ve,onKeyPress:ve,tabIndex:"0",className:"msl-btn msl-clear-btn msl-flx"},l||j.createElement($e,null)),p&&j.createElement("div",{role:"button",tabIndex:"0","dropdown-handle":"true",className:"msl-btn msl-arrow-btn msl-flx",style:ce({},V&&{transform:"rotate(180deg)"})},c||j.createElement(at,null)))),j.createElement("div",{className:"msl-options"},!U&&I.length?j.createElement(Le,{opts:I,singleSelect:h,addValue:he,checkValueExist:de,value:o,largeData:_,menuOpen:V}):U&&U.length?j.createElement(Le,{opts:U,singleSelect:h,addValue:he,checkValueExist:de,value:o,largeData:_,menuOpen:V}):(U&&!U.length||I&&!I.length)&&j.createElement("option",{className:"msl-option msl-option-disable"},W)))}ye.defaultProps={clearable:!0,clearAll:!1,downArrow:!0,singleSelect:!1,jsonValue:!1,defaultValue:"",disableChip:!1,name:"",style:{},disabled:!1,limit:null,emptyDataLabel:"No Data Found",placeholder:"Select...",onChange:function(){},onMenuOpen:function(){},onMenuClose:function(){},options:[{label:"Empty",value:"",disabled:!0,style:{textAlign:"center"}}],customValue:!1,chipAlternateText:"Item Selected",closeOnSelect:!0,disableSearch:!1};function ge({className:t,disabled:a,checked:c,onChange:l,radio:i,name:s,title:p,value:x,sqr:h}){return e.jsxs("label",{className:`btcd-ck-wrp ${t}`,children:[p,e.jsx("input",{type:i?"radio":"checkbox",checked:c,onChange:l,name:s,value:x,disabled:a}),e.jsx("span",{className:`btcd-mrk ${!h&&"br-50"} ${i?"rdo":"ck"}`})]})}function it({action:t,children:a}){return e.jsxs("div",{className:"action-btn-wrapper",children:[e.jsx("div",{className:"action-btn",tabIndex:"0",role:"button",onClick:t,onKeyPress:t,children:e.jsx(Ge,{})}),a]})}function Pe({crmConf:t,setCrmConf:a,formFields:c,tab:l,formID:i,setSnackbar:s}){var A,W,P,H,D,J,Y,Q,K,o,le,ae,I,ee,ie,U,X;const[p,x]=R.useState(!1),[h,w]=R.useState(!1),[E,y]=R.useState({show:!1,action:()=>{}}),O=typeof bitgfzc!="undefined"&&bitgfzc.isPro,d=(r,g)=>{var V,T;const u=F({},t);if(l===0){if(g==="attachment"&&(r!==""?u.actions.attachment=r:delete u.actions.attachment),g==="approval"&&(r.target.checked?u.actions.approval=!0:delete u.actions.approval),g==="workflow"&&(r.target.checked?u.actions.workflow=!0:delete u.actions.workflow),g==="blueprint"&&(r.target.checked?u.actions.blueprint=!0:delete u.actions.blueprint),g==="gclid"&&(r.target.checked?u.actions.gclid=!0:delete u.actions.gclid),g==="assignment_rules"&&(r!==""?u.actions.assignment_rules=r:delete u.actions.assignment_rules),g==="tag_rec"&&(r!==""?u.actions.tag_rec=r:delete u.actions.tag_rec),g==="rec_owner"&&(r!==""?u.actions.rec_owner=r:delete u.actions.rec_owner),g==="upsert")if(r.target.checked){const te=(V=u.default.layouts[u.module][u.layout].unique)==null?void 0:V.map((G,C)=>({i:C,name:G}));u.actions.upsert={overwrite:!0,crmField:te}}else delete u.actions.upsert}else if(g==="attachment"&&(r!==""?u.relatedlists[l-1].actions.attachment=r:delete u.relatedlists[l-1].actions.attachment),g==="approval"&&(r.target.checked?u.relatedlists[l-1].actions.approval=!0:delete u.relatedlists[l-1].actions.approval),g==="workflow"&&(r.target.checked?u.relatedlists[l-1].actions.workflow=!0:delete u.relatedlists[l-1].actions.workflow),g==="blueprint"&&(r.target.checked?u.relatedlists[l-1].actions.blueprint=!0:delete u.relatedlists[l-1].actions.blueprint),g==="gclid"&&(r.target.checked?u.relatedlists[l-1].actions.gclid=!0:delete u.relatedlists[l-1].actions.gclid),g==="assignment_rules"&&(r!==""?u.relatedlists[l-1].actions.assignment_rules=r:delete u.relatedlists[l-1].actions.assignment_rules),g==="tag_rec"&&(r!==""?u.relatedlists[l-1].actions.tag_rec=r:delete u.relatedlists[l-1].actions.tag_rec),g==="rec_owner"&&(r!==""?u.relatedlists[l-1].actions.rec_owner=r:delete u.relatedlists[l-1].actions.rec_owner),g==="upsert")if(r.target.checked){const te=(T=u.default.layouts[u.relatedlists[l-1].module][u.relatedlists[l-1].layout].unique)==null?void 0:T.map((G,C)=>({i:C,name:G}));u.relatedlists[l-1].actions.upsert={overwrite:!0,crmField:te}}else delete u.relatedlists[l-1].actions.upsert;a(F({},u))},b=()=>{y({show:!1})},k=l===0?t.module:t.relatedlists[l-1].module,q=()=>{var g,u;const r=[{title:"Zoho CRM Tags",type:"group",childs:[]},{title:"Form Fields",type:"group",childs:[]}];return(g=t.default.tags)!=null&&g[k]&&(r[0].childs=Object.values((u=t.default.tags)==null?void 0:u[k]).map(V=>({label:V,value:V}))),r[1].childs=c.map(V=>({label:V.name,value:`\${${V.key}}`})),r},_=(r,g)=>{const u=F({},t);l===0?(g==="list"&&(u.actions.upsert.crmField=r),g==="overwrite"&&(u.actions.upsert.overwrite=r)):(g==="list"&&(u.relatedlists[l-1].actions.upsert.crmField=r),g==="overwrite"&&(u.relatedlists[l-1].actions.upsert.overwrite=r)),a(F({},u))},S=()=>{var r,g,u,V;if(l&&!((r=t.relatedlists[l-1].actions.upsert)!=null&&r.crmField)){const T=F({},t),te=(g=T.default.layouts[T.relatedlists[l-1].module][T.relatedlists[l-1].layout].unique)==null?void 0:g.map((G,C)=>({i:C,name:G}));T.relatedlists[l-1].actions.upsert={overwrite:!0,crmField:te},a(T)}else if(!((u=t.actions.upsert)!=null&&u.crmField)){const T=F({},t),te=(V=T.default.layouts[T.module][T.layout].unique)==null?void 0:V.map((G,C)=>({i:C,name:G}));T.actions.upsert={overwrite:!0,crmField:te},a(F({},T))}x(!0)};return e.jsxs("div",{className:"pos-rel",children:[!O&&e.jsx("div",{className:"pro-blur flx w-10",style:{top:-25},children:e.jsxs("div",{className:"pro",children:[n("Available On","bitgfzc"),e.jsx("a",{href:"https://formsintegrations.com/gravity-forms-integration-with-zoho-crm/",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",n("Premium","bitgfzc")]})})]})}),e.jsxs("div",{className:"d-flx flx-wrp",children:[e.jsx(se,{onChange:r=>d(r,"workflow"),checked:l===0?"workflow"in t.actions:"workflow"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Workflow",title:n("Workflow","bitgfzc"),subTitle:n("Trigger CRM workflows","bitgfzc")}),e.jsx(se,{onChange:()=>y({show:"attachment"}),checked:l===0?"attachment"in t.actions:"attachment"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Attachment",title:n("Attachment","bitgfzc"),subTitle:n("Add attachments or signatures from BitForm to CRM.","bitgfzc")}),e.jsx(se,{onChange:r=>d(r,"approval"),checked:l===0?"approval"in t.actions:"approval"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Approval",title:n("Approval","bitgfzc"),subTitle:n("Send entries to CRM approval list.","bitgfzc")}),e.jsx(se,{onChange:r=>d(r,"blueprint"),checked:l===0?"blueprint"in t.actions:"blueprint"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Blueprint",title:n("Blueprint","bitgfzc"),subTitle:n("Trigger CRM Blueprint","bitgfzc")}),e.jsx(se,{onChange:r=>d(r,"gclid"),checked:l===0?"gclid"in t.actions:"gclid"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Capture_GCLID",title:n("Capture GCLID","bitgfzc"),subTitle:n("Sends the click details of AdWords Ads to Zoho CRM.","bitgfzc")}),e.jsx(it,{action:S,children:e.jsx(se,{onChange:r=>d(r,"upsert"),checked:l===0?"upsert"in t.actions:"upsert"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Upsert_Record",title:n("Upsert Records","bitgfzc"),subTitle:n("The record is updated if it already exists else it is inserted as a new record.","bitgfzc")})}),e.jsx(se,{checked:l===0?"assignment_rules"in t.actions:"assignment_rules"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Assignment_Rule",title:n("Assignment Rules","bitgfzc"),subTitle:n("Trigger Assignment Rules in Zoho CRM.","bitgfzc")}),e.jsx(se,{onChange:()=>y({show:"tag_rec"}),checked:l===0?"tag_rec"in t.actions:"tag_rec"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Tag_Records",title:n("Tag Records","bitgfzc"),subTitle:n("Add a tag to records pushed to Zoho CRM.","bitgfzc")}),e.jsx(se,{checked:l===0?"rec_owner"in t.actions:"rec_owner"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Record_Owner",title:n("Record Owner","bitgfzc"),subTitle:n("Add a owner to records pushed to Zoho CRM.","bitgfzc")})]}),e.jsxs(me,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:n("Ok","bitgfzc"),show:E.show==="attachment",close:b,action:b,title:n("Select Attachment","bitgfzc"),children:[e.jsx("div",{className:"btcd-hr mt-2"}),e.jsx("div",{className:"mt-2",children:n("Select file upload fields","bitgfzc")}),e.jsx(ye,{defaultValue:l===0?t.actions.attachment:t.relatedlists[l-1].actions.attachment,className:"mt-2 w-9",onChange:r=>d(r,"attachment"),options:c.filter(r=>r.type==="file").map(r=>({label:r.name,value:r.key}))})]}),e.jsxs(me,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:n("Ok","bitgfzc"),show:E.show==="assignment_rules",close:b,action:b,title:n("Assignment Rules","bitgfzc"),children:[e.jsx("div",{className:"btcd-hr mt-2"}),e.jsx("div",{className:"mt-2",children:n("Assignment Rules","bitgfzc")}),h?e.jsx(oe,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):e.jsxs("div",{className:"flx flx-between mt-2",children:[e.jsxs("select",{value:l===0?t.actions.assignment_rules:t.relatedlists[l-1].actions.assignment_rules,className:"btcd-paper-inp",onChange:r=>d(r.target.value,"assignment_rules"),children:[e.jsx("option",{value:"",children:n("Select Assignment Rule","bitgfzc")}),((W=(A=t==null?void 0:t.default)==null?void 0:A.assignmentRules)==null?void 0:W[k])&&Object.keys(t.default.assignmentRules[k]).map(r=>e.jsx("option",{value:t.default.assignmentRules[k][r],children:r},r))]}),e.jsx("button",{className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Assignment Rules","bitgfzc")}'`},type:"button",disabled:h,children:"↻"})]})]}),e.jsxs(me,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:n("Ok","bitgfzc"),show:E.show==="tag_rec",close:b,action:b,title:n("Tag Records","bitgfzc"),children:[e.jsx("div",{className:"btcd-hr mt-2 mb-2"}),e.jsx("small",{children:n("Add a tag to records pushed to Zoho CRM","bitgfzc")}),e.jsx("div",{className:"mt-2",children:n("Tag Name","bitgfzc")}),h?e.jsx(oe,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):e.jsxs("div",{className:"flx flx-between mt-2",children:[e.jsx(ye,{className:"msl-wrp-options",defaultValue:l===0?t.actions.tag_rec:t.relatedlists[l-1].actions.tag_rec,options:q(),onChange:r=>d(r,"tag_rec"),customValue:!0}),e.jsx("button",{className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`${n("Refresh CRM Tags","bitgfzc")}'`},type:"button",disabled:h,children:"↻"})]})]}),e.jsxs(me,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:n("Ok","bitgfzc"),show:E.show==="rec_owner",close:b,action:b,title:n("Record Owner","bitgfzc"),children:[e.jsx("div",{className:"btcd-hr mt-2"}),e.jsx("div",{className:"mt-2",children:n("Owner Name","bitgfzc")}),h?e.jsx(oe,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):e.jsxs("div",{className:"flx flx-between mt-2",children:[e.jsxs("select",{value:l===0?t.actions.rec_owner:t.relatedlists[l-1].actions.rec_owner,className:"btcd-paper-inp",onChange:r=>d(r.target.value,"rec_owner"),children:[e.jsx("option",{value:"",children:n("Select Owner","bitgfzc")}),((P=t.default)==null?void 0:P.crmOwner)&&((H=Object.values(t.default.crmOwner))==null?void 0:H.map(r=>e.jsx("option",{value:r.id,children:r.full_name},r.id)))]}),e.jsx("button",{className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Owners","bitgfzc")}'`},type:"button",disabled:h,children:"↻"})]})]}),e.jsx(We,{md:!0,show:p,setModal:x,title:n("Upsert Record","bitgfzc"),children:e.jsx("div",{className:"o-a",children:l===0?((D=t==null?void 0:t.actions)==null?void 0:D.upsert)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"font-w-m mt-2",children:n("Upsert Using","bitgfzc")}),e.jsx("small",{children:n("Arrange fields in order of preferance for upsertion","bitgfzc")}),e.jsx(Se.ReactSortable,{list:(J=t.actions.upsert)==null?void 0:J.crmField,setList:r=>_(r,"list"),children:(Q=(Y=t.actions.upsert)==null?void 0:Y.crmField)==null?void 0:Q.map(r=>e.jsxs("div",{className:"upsert_rec w-7 mt-1 flx",children:[e.jsx("span",{className:"btcd-icn btcd-mnu mr-2"}),r.name]},`cf-${r.i}`))}),e.jsx("div",{className:"font-w-m mt-3",children:n("Upsert Preferance","bitgfzc")}),e.jsx("small",{children:n("Overwrite existing field values in Zoho CRM with empty field values from Zoho CRM For Gravity Forms while upserting a record?","bitgfzc")}),e.jsxs("div",{children:[e.jsx(ge,{onChange:()=>_(!0,"overwrite"),radio:!0,checked:(K=t.actions.upsert)==null?void 0:K.overwrite,name:"up-rec",title:n("Yes","bitgfzc")}),e.jsx(ge,{onChange:()=>_(!1,"overwrite"),radio:!0,checked:!((o=t.actions.upsert)!=null&&o.overwrite),name:"up-rec",title:n("No","bitgfzc")})]})]}):((ae=(le=t==null?void 0:t.relatedlists[l-1])==null?void 0:le.actions)==null?void 0:ae.upsert)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"font-w-m mt-2",children:n("Upsert Using","bitgfzc")}),e.jsx("small",{children:n("Arrange fields in order of preferance for upsertion","bitgfzc")}),e.jsx(Se.ReactSortable,{list:(I=t.relatedlists[l-1].actions.upsert)==null?void 0:I.crmField,setList:r=>_(r,"list"),children:(ie=(ee=t.relatedlists[l-1].actions.upsert)==null?void 0:ee.crmField)==null?void 0:ie.map(r=>e.jsxs("div",{className:"upsert_rec w-7 mt-1 flx",children:[e.jsx("span",{className:"btcd-icn btcd-mnu mr-2"}),r.name]},`cf-${r.i}`))}),e.jsx("div",{className:"font-w-m mt-3",children:n("Upsert Preferance","bitgfzc")}),e.jsx("small",{children:n("Overwrite existing field values in Zoho CRM with empty field values from Zoho CRM For Gravity Forms while upserting a record?","bitgfzc")}),e.jsxs("div",{children:[e.jsx(ge,{onChange:()=>_(!0,"overwrite"),radio:!0,checked:(U=t.relatedlists[l-1].actions.upsert)==null?void 0:U.overwrite,name:"up-rec",title:n("Yes","bitgfzc")}),e.jsx(ge,{onChange:()=>_(!1,"overwrite"),radio:!0,checked:!((X=t.relatedlists[l-1].actions.upsert)!=null&&X.overwrite),name:"up-rec",title:n("No","bitgfzc")})]})]})})})]})}function nt({label:t,onChange:a,value:c,disabled:l,type:i,textarea:s,className:p}){return e.jsxs("label",{className:`btcd-mt-inp ${p}`,children:[!s&&e.jsx("input",{type:i===void 0?"text":i,onChange:a,placeholder:" ",disabled:l,value:c}),s&&e.jsx("textarea",{type:i===void 0?"text":i,onChange:a,placeholder:" ",disabled:l,value:c}),e.jsx("span",{children:t})]})}function be({i:t,formFields:a,uploadFields:c,field:l,crmConf:i,setCrmConf:s,tab:p}){var E,y,O,d,b,k,q,_,S,A,W,P,H,D,J,Y,Q,K;const x=p===0?i.module:(y=(E=i.relatedlists)==null?void 0:E[p-1])==null?void 0:y.module,h=p===0?i.layout:(d=(O=i.relatedlists)==null?void 0:O[p-1])==null?void 0:d.layout;let w;return c?w=l.zohoFormField===""||((_=(q=(k=(b=i.default.layouts)==null?void 0:b[x])==null?void 0:k[h])==null?void 0:q.requiredFileUploadFields)==null?void 0:_.indexOf(l.zohoFormField))===-1:w=l.zohoFormField===""||((P=(W=(A=(S=i.default.layouts)==null?void 0:S[x])==null?void 0:A[h])==null?void 0:W.required)==null?void 0:P.indexOf(l.zohoFormField))===-1,e.jsxs("div",{className:"flx mt-2 mr-1",children:[e.jsxs("div",{className:"flx integ-fld-wrp",children:[e.jsxs("select",{className:"btcd-paper-inp mr-2",name:"formField",value:l.formField||"",onChange:o=>Te(o,t,i,s,c,p),children:[e.jsx("option",{value:"",children:n("Select Field","bitgfzc")}),c?a.map(o=>o.type==="file"&&e.jsx("option",{value:o.name,children:o.label},`ff-zhcrm-${o.name}`)):a.map(o=>o.type!=="file"&&e.jsx("option",{value:o.name,children:o.label},`ff-zhcrm-${o.name}`)),!c&&e.jsx("option",{value:"custom",children:n("Custom...","bitgfzc")})]}),l.formField==="custom"&&e.jsx(nt,{onChange:o=>Ce(o,t,i,s,p),label:n("Custom Value","bitgfzc"),className:"mr-2",type:"text",value:l.customValue,placeholder:n("Custom Value","bitgfzc")}),e.jsxs("select",{className:"btcd-paper-inp",disabled:!w,name:"zohoFormField",value:l.zohoFormField||"",onChange:o=>Te(o,t,i,s,c,p),children:[e.jsx("option",{value:"",children:n("Select Field","bitgfzc")}),c?((J=(D=(H=i.default.layouts)==null?void 0:H[x])==null?void 0:D[h])==null?void 0:J.fileUploadFields)&&Object.keys(i.default.layouts[x][h].fileUploadFields).filter(o=>o.required!==!0).map(o=>w?!i.default.layouts[x][h].fileUploadFields[o].required&&e.jsx("option",{value:o,children:i.default.layouts[x][h].fileUploadFields[o].display_label},o):e.jsx("option",{value:o,children:i.default.layouts[x][h].fileUploadFields[o].display_label},o)):((K=(Q=(Y=i.default.layouts)==null?void 0:Y[x])==null?void 0:Q[h])==null?void 0:K.fields)&&Object.keys(i.default.layouts[x][h].fields).filter(o=>o.required!==!0).map(o=>w?!i.default.layouts[x][h].fields[o].required&&e.jsx("option",{value:o,children:i.default.layouts[x][h].fields[o].display_label},o):e.jsx("option",{value:o,children:i.default.layouts[x][h].fields[o].display_label},o)),e.jsx("option",{value:"",disabled:!0,children:n("More fields on the Pro version","bitgfzc")})]})]}),w&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>ue(t,i,s,c,p),className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),e.jsx("button",{onClick:()=>Xe(t,i,s,c,p),className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:e.jsx("span",{className:"btcd-icn icn-trash-2"})})]})]})}function rt({tab:t,settab:a,formID:c,formFields:l,crmConf:i,setCrmConf:s,handleInput:p,isLoading:x,setisLoading:h,setSnackbar:w}){var y,O,d,b,k,q,_;R.useEffect(()=>{Je(0,a)},[]);const E=typeof bitgfzc!="undefined"&&bitgfzc.isPro;return e.jsxs(e.Fragment,{children:[x&&e.jsx(oe,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("b",{className:"wdt-100 d-in-b",children:n("Layout:","bitgfzc")}),e.jsxs("select",{onChange:p,name:"layout",value:i.layout,className:"btcd-paper-inp w-7",children:[e.jsx("option",{value:"",children:n("Select Layout","bitgfzc")}),((O=(y=i==null?void 0:i.default)==null?void 0:y.layouts)==null?void 0:O[i.module])&&Object.keys(i.default.layouts[i.module]).map(S=>e.jsx("option",{value:S,children:S},S)),e.jsx("option",{value:"",disabled:!0,children:n("More layouts on the Pro version","bitgfzc")})]}),e.jsx("button",{onClick:()=>Ye(t,c,i,s,h,w),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Layouts","bitgfzc")}'`},type:"button",disabled:x,children:"↻"}),e.jsx("br",{}),e.jsx("br",{}),((q=(k=(b=(d=i.default)==null?void 0:d.layouts)==null?void 0:b[i.module])==null?void 0:k[i.layout])==null?void 0:q.fields)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Field Map","bitgfzc")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-1",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Form Fields","bitgfzc")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Zoho Fields","bitgfzc")})})]}),i.field_map.map((S,A)=>e.jsx(be,{i:A,field:S,crmConf:i,formFields:l,setCrmConf:s,tab:t,setSnackbar:w},`crm-m-${A+9}`)),e.jsx("div",{className:"txt-center  mt-2",style:{marginRight:85},children:e.jsx("button",{onClick:()=>ue(i.field_map.length,i,s,!1,t),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{}),Object.keys((_=i.default.layouts[i.module][i.layout])==null?void 0:_.fileUploadFields).length!==0&&e.jsxs("div",{className:"pos-rel",children:[!E&&e.jsx("div",{className:"pro-blur flx",children:e.jsxs("div",{className:"pro",children:["Available On",e.jsx("a",{href:"https://formsintegrations.com/gravity-forms-integration-with-zoho-crm/",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",n("Premium","bitgfzc")]})})]})}),e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Map File Upload Fields","bitgfzc")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-1",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Form Fields","bitgfzc")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Zoho Fields","bitgfzc")})})]}),i.upload_field_map.map((S,A)=>e.jsx(be,{i:A,uploadFields:!0,field:S,crmConf:i,formFields:l,setCrmConf:s,tab:t,setSnackbar:w},`crm-m-${A+9}`)),e.jsx("div",{className:"txt-center  mt-2",style:{marginRight:85},children:e.jsx("button",{onClick:()=>ue(i.upload_field_map.length,i,s,!0,t),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Actions","bitgfzc")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsx(Pe,{formID:c,formFields:l,crmConf:i,setCrmConf:s,tab:t,setSnackbar:w})]})]})}function ct({indx:t,tab:a,settab:c,formID:l,formFields:i,crmConf:s,setCrmConf:p,handleInput:x,isLoading:h,setisLoading:w,setSnackbar:E}){var O,d,b,k,q,_,S,A,W,P,H,D,J,Y,Q,K,o,le,ae,I,ee,ie,U,X,r;const y=typeof bitgfzc!="undefined"&&bitgfzc.isPro;return e.jsxs(e.Fragment,{children:[h&&e.jsx(oe,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),e.jsx("br",{}),e.jsx("br",{}),!y&&e.jsxs("div",{className:"pos-rel",children:[e.jsx("div",{className:"pro-blur flx w-9",children:e.jsxs("div",{className:"pro",children:[n("Available On","bitgfzc"),e.jsx("a",{href:"https://formsintegrations.com/gravity-forms-integration-with-zoho-crm/",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",n("Premium","bitgfzc")]})})]})}),e.jsx("b",{className:"wdt-100 d-in-b",children:n("Related List:","bitgfzc")}),e.jsxs("select",{onChange:x,name:"module",value:(d=(O=s==null?void 0:s.relatedlists)==null?void 0:O[a-1])==null?void 0:d.module,className:"btcd-paper-inp w-7",disabled:!s.module,children:[e.jsx("option",{value:"",children:n("Select Related Module","bitgfzc")}),((k=(b=s==null?void 0:s.default)==null?void 0:b.relatedlists)==null?void 0:k[s.module])&&Object.values(s.default.relatedlists[s.module]).map(g=>e.jsx("option",{value:g.module,children:g.name},g.module))]}),e.jsx("button",{className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Related Lists","bitgfzc")}'`},type:"button",disabled:h,children:"↻"}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("b",{className:"wdt-100 d-in-b",children:n("Layout:","bitgfzc")}),e.jsxs("select",{onChange:x,name:"layout",value:(_=(q=s==null?void 0:s.relatedlists)==null?void 0:q[a-1])==null?void 0:_.layout,className:"btcd-paper-inp w-7",disabled:!((A=(S=s==null?void 0:s.relatedlists)==null?void 0:S[a-1])!=null&&A.module),children:[e.jsx("option",{value:"",children:n("Select Layout","bitgfzc")}),((D=(W=s==null?void 0:s.default)==null?void 0:W.layouts)==null?void 0:D[(H=(P=s.relatedlists)==null?void 0:P[a-1])==null?void 0:H.module])&&Object.keys(s.default.layouts[s.relatedlists[a-1].module]).map(g=>e.jsx("option",{value:g,children:g},g))]}),e.jsx("button",{className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":'"Refresh CRM Layouts"'},type:"button",disabled:h,children:"↻"})]}),e.jsx("br",{}),e.jsx("br",{}),((I=(ae=(K=(J=s.default)==null?void 0:J.layouts)==null?void 0:K[(Q=(Y=s==null?void 0:s.relatedlists)==null?void 0:Y[a-1])==null?void 0:Q.module])==null?void 0:ae[(le=(o=s==null?void 0:s.relatedlists)==null?void 0:o[a-1])==null?void 0:le.layout])==null?void 0:I.fields)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Field Map","bitgfzc")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-1",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Form Fields","bitgfzc")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Zoho Fields","bitgfzc")})})]}),(U=(ie=(ee=s.relatedlists)==null?void 0:ee[a-1])==null?void 0:ie.field_map)==null?void 0:U.map((g,u)=>e.jsx(be,{i:u,field:g,crmConf:s,formFields:i,setCrmConf:p,tab:a,setSnackbar:E},`crm-m-${u+9}`)),e.jsx("div",{className:"txt-center  mt-2",style:{marginRight:85},children:e.jsx("button",{onClick:()=>ue(s.relatedlists[a-1].field_map.length,s,p,!1,a),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{}),((r=(X=s.default)==null?void 0:X.layouts[s.relatedlists[a-1].module])==null?void 0:r[s.relatedlists[a-1].layout])&&Object.keys(s.default.layouts[s.relatedlists[a-1].module][s.relatedlists[a-1].layout].fileUploadFields).length!==0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("File Upload Field Map","bitgfzc")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-1",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Form Fields","bitgfzc")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Zoho Fields","bitgfzc")})})]}),s.relatedlists[a-1].upload_field_map.map((g,u)=>e.jsx(be,{i:u,uploadFields:1,field:g,crmConf:s,formFields:i,setCrmConf:p,tab:a,setSnackbar:E},`crm-m-${u+9}`)),e.jsx("div",{className:"txt-center  mt-2",style:{marginRight:85},children:e.jsx("button",{onClick:()=>ue(s.relatedlists[a-1].upload_field_map.length,s,p,!0,a),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Actions","bitgfzc")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsx(Pe,{formFields:i,crmConf:s,setCrmConf:p,tab:a,formID:l,setSnackbar:E})]})]})}function xt({tab:t,settab:a,formID:c,formFields:l,handleInput:i,crmConf:s,setCrmConf:p,isLoading:x,setisLoading:h,setSnackbar:w}){var O;const E=()=>{if(s.relatedlists.length<3){const d=F({},s);d.relatedlists.push({actions:{},field_map:[{formField:"",zohoFormField:""}],layout:"",module:"",upload_field_map:[{formField:"",zohoFormField:""}]}),p(F({},d))}},y=d=>{const b=F({},s);b.relatedlists.splice(d,1),b.relatedlists.length||a(0),p(F({},b))};return e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("b",{className:"wdt-100 d-in-b",children:n("Module:","bitgfzc")}),e.jsxs("select",{onChange:i,name:"module",value:s.module,className:"btcd-paper-inp w-7",disabled:t,children:[e.jsx("option",{value:"",children:n("Select Module","bitgfzc")}),((O=s==null?void 0:s.default)==null?void 0:O.modules)&&Object.keys(s.default.modules).map(d=>e.jsx("option",{value:d,children:s.default.modules[d].plural_label},d)),e.jsx("option",{value:"",disabled:!0,children:n("More module on the Pro version","bitgfzc")})]}),t===0&&e.jsx("button",{onClick:()=>Qe(c,s,p,h,w),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Modules","bitgfzc")}'`},type:"button",disabled:x,children:"↻"}),e.jsx("br",{}),e.jsx("div",{children:e.jsxs(et,{children:[e.jsxs("div",{className:"flx mt-2",children:[e.jsx(Ae,{children:e.jsx("button",{className:`btcd-s-tab-link ${t===0&&"s-t-l-active"}`,type:"button",children:n("New Record","bitgfzc")})}),(s==null?void 0:s.relatedlists)&&s.relatedlists.map((d,b)=>e.jsxs(e.Fragment,{children:[e.jsx(Ae,{children:e.jsxs("button",{className:`btcd-s-tab-link ${t===b+1&&"s-t-l-active"}`,type:"button",children:[n("Related List #","bitgfzc"),b+1]})},`t-${b*3}`),e.jsx("button",{onClick:()=>y(b),className:"icn-btn","aria-label":"delete-relatedlist",type:"button",children:e.jsx(He,{size:"14"})})]})),s.relatedlists.length<3&&e.jsx("button",{onClick:E,className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Add More Related List","bitgfzc")}'`},type:"button",children:"+"})]}),e.jsx("div",{className:"btcd-hr"}),e.jsx(Ie,{children:e.jsx(rt,{tab:t,settab:a,formID:c,formFields:l,crmConf:s,setCrmConf:p,handleInput:i,isLoading:x,setisLoading:h,setSnackbar:w})}),(s==null?void 0:s.relatedlists)&&s.relatedlists.map((d,b)=>e.jsx(Ie,{children:e.jsx(ct,{indx:b,tab:t,settab:a,formID:c,formFields:l,crmConf:s,setCrmConf:p,handleInput:i,isLoading:x,setisLoading:h,setSnackbar:w})},`p-${b+2.4}`))]})}),e.jsx("br",{})]})}export{gt as I,xt as Z,mt as a,pt as s};
